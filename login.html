<!DOCTYPE html>
<html lang="{{ lang }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Login</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { background: #0b0e11; color: white; font-family: sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; overflow: hidden; position: fixed; width: 100%; }
        .lang-container { position: absolute; top: 15px; right: 15px; }
        .lang-select { background: #1e2329; color: #eaecef; border: 1px solid #474d57; padding: 5px; border-radius: 4px; outline: none; }
        .card { background: #1e2329; border-radius: 12px; padding: 30px; width: 90%; max-width: 360px; text-align: center; border: 1px solid #2b2f36; }
        h2 { font-size: 26px; margin-bottom: 25px; text-transform: uppercase; font-weight: bold; }
        .input-group { margin-bottom: 15px; position: relative; }
        input { width: 100%; padding: 14px; background: #0b0e11; border: 1px solid #2b2f36; border-radius: 10px; color: white; outline: none; font-size: 15px; }
        input:focus { border-color: #2ebd85; }
        .toggle-password { position: absolute; right: 15px; top: 50%; transform: translateY(-50%); color: #848e9c; cursor: pointer; }
        .btn { width: 100%; padding: 14px; background: #2ebd85; border: none; border-radius: 10px; color: white; font-weight: bold; cursor: pointer; font-size: 16px; margin-top: 10px; }
        .footer-text { margin-top: 25px; font-size: 14px; color: #848e9c; }
        .footer-text a { color: #58a6ff; text-decoration: none; font-weight: bold; }
    </style>
</head>
<body>
    <div class="lang-container">
        <select class="lang-select" onchange="window.location.href='/set_language/'+this.value">
            <option value="hy" {{ 'selected' if lang == 'hy' }}>AM</option>
            <option value="ru" {{ 'selected' if lang == 'ru' }}>RU</option>
            <option value="en" {{ 'selected' if lang == 'en' }}>EN</option>
        </select>
    </div>
    <div class="card">
        <h2 id="l_t">ՄՈՒՏՔ</h2>
        <form action="/login" method="POST">
            <div class="input-group"><input type="text" name="username" id="l_u" placeholder="Մուտքանուն" required></div>
            <div class="input-group">
                <input type="password" name="password" id="l_p" placeholder="Գաղտնաբառ" required>
                <i class="fa-regular fa-eye toggle-password" onclick="toggleL()"></i>
            </div>
            <button type="submit" class="btn" id="l_b">ՄՈՒՏՔ</button>
        </form>
        <div class="footer-text"><span id="l_f">Չունե՞ք հաշիվ:</span> <a href="/signup" id="l_l">Գրանցվել</a></div>
    </div>
    <script>
        const trans = {
            hy: { t: "ՄՈՒՏՔ", u: "Մուտքանուն", p: "Գաղտնաբառ", b: "ՄՈՒՏՔ", f: "Չունե՞ք հաշիվ:", l: "Գրանցվել" },
            ru: { t: "ВХОД", u: "Логин", p: "Пароль", b: "ВОЙТИ", f: "Нет аккаунта?", l: "Регистрация" },
            en: { t: "LOGIN", u: "Username", p: "Password", b: "LOGIN", f: "No account?", l: "Sign Up" }
        };
        function apply(l) {
            document.getElementById('l_t').innerText = trans[l].t;
            document.getElementById('l_u').placeholder = trans[l].u;
            document.getElementById('l_p').placeholder = trans[l].p;
            document.getElementById('l_b').innerText = trans[l].b;
            document.getElementById('l_f').innerText = trans[l].f;
            document.getElementById('l_l').innerText = trans[l].l;
        }
        function toggleL() { const p = document.getElementById('l_p'); p.type = p.type === 'password' ? 'text' : 'password'; }
        apply("{{ lang }}");
    </script>
</body>
</html>
